"use strict";

document.body.classList.add("loading");
document.addEventListener('DOMContentLoaded', function () {
  /**
   * Resize Browser Window
   */

  window.addEventListener('resize', function () {
    document.querySelectorAll('.opened').forEach(function (el) {
      el.classList.remove('opened');
    });
  });

  /***********************************
  * Language
  ***********************************/

  (function () {
    var btnsLang = document.querySelectorAll('[data-toggle-lang]');
    if (btnsLang.length === 0) return;
    new Language(btnsLang);
  })();

  /***********************************
  * Page Slider
  ***********************************/

  (function () {
    var mainContainer = document.querySelector(".page__main");
    var pageSlider = new Swiper("[data-swiper]", {
      // Свої класи
      wrapperClass: "slider__wrapper",
      slideClass: "section",
      // Вертикальний слайдер
      direction: "vertical",
      // Кількість слайдів для показу
      slidesPerView: "auto",
      // Вмикаємо паралакс
      parallax: true,
      // Керування клавіатурою
      keyboard: {
        // Увімкнути/Вимкнути
        enable: true,
        // Увімкнути/Вимкнути
        // тільки коли слайдер
        // в межах в'юпорта
        onlyInViewport: true,
        // Увімкнути/Вимкнути
        // керування клавішами
        // pageUp, pageDown
        pageUpDown: true
      },
      // Керування колесом миші
      mousewheel: {
        // Чутливість колеса миші
        sensitivity: 1
        // Клас об'єкта на якому
        // буде відпрацьовувати прокрутка мишею
        // eventsTarget: ".image-slider"
      },

      // Відключення функціонала
      // якщо слайдів меньш ніж потрібно
      watchOverflow: true,
      // Швидкість
      speed: 800,
      // Оновить свайпер
      // при зміні елементів слайдера
      observer: true,
      // Оновить слайдер
      // при зміні батьківських
      // елментів слайдера
      observeParents: true,
      // Оновить слайдер
      // при зміні дочерніх
      // елементів слайда
      observeSlideChildren: true,
      // Навігація
      // Булети, поточне положення, прогресбар
      pagination: {
        el: ".slider__pagination",
        type: "bullets",
        clickable: true,
        bulletClass: "slider__bullet",
        "bulletActiveClass": "slider__bullet--active"
      },
      // Скрол
      scrollbar: {
        el: ".slider__scroll",
        dragClass: "slider__drag-scroll",
        // Можливість перетягувати скролл
        draggable: true
      },
      // Відключення автоініціалізації
      init: false,
      // Події
      on: {
        // Подія ініціалізації
        init: function init() {
          document.body.classList.remove("loading");
          setScrollType();
          mainContainer.classList.add("loaded");
        },
        slideChangeTransitionEnd: function slideChangeTransitionEnd() {
          document.body.classList.remove("scroll");
        },
        // Подія зміни слайда
        slideChange: function slideChange() {
          document.body.classList.add("scroll");
        },
        // Зміна розміру вікна браузера
        resize: function resize() {
          setScrollType();
        }
      }
    });
    function setScrollType() {
      if (mainContainer.classList.contains("free")) {
        mainContainer.classList.remove("free");
        pageSlider.params.freeMode = false;
      }
      for (var i = 0; i < pageSlider.slides.length; i++) {
        var itemSlide = pageSlider.slides[i];
        var itemSlideContent = itemSlide.querySelector(".section__content");
        if (itemSlideContent) {
          var itemSlideContentHeight = itemSlideContent.offsetHeight;
          if (itemSlideContentHeight > window.innerHeight) {
            mainContainer.classList.add("free");
            pageSlider.params.freeMode = true;
            break;
          }
        }
      }
    }
    var btnScrollDown = document.querySelector("[data-scroll-down]");
    btnScrollDown.addEventListener("click", function () {
      pageSlider.slideTo(4);
    });
    pageSlider.init();
  })();

  /*********************************
  * Welcome slider
  *********************************/
  (function () {
    new Swiper("[data-welcome-swiper]", {
      // Кількість слайдів для показу
      slidesPerView: 1,
      autoplay: {
        delay: 5000
      },
      // Швидкість
      speed: 800,
      loop: true,
      // Навігація
      // Булети, поточне положення, прогресбар
      pagination: {
        el: ".swiper__pagination",
        type: "bullets",
        clickable: true,
        bulletClass: "swiper__bullet",
        "bulletActiveClass": "swiper__bullet--active"
      },
      navigation: {
        prevEl: '.swiper__button-prev',
        nextEl: '.swiper__button-next'
      }
    });
  })();
});
/***********************************
* Language
***********************************/

function Language(btns) {
  var _this = this;
  this.btns = document.querySelectorAll("[data-toggle-lang]");
  this.btns.forEach(function (item) {
    item.addEventListener("click", _this.toggle);
  });
}
Language.prototype.toggle = function (e) {
  e.preventDefault();
  this.dataset.toggleLang === "en" ? document.body.classList.remove("ua") : document.body.classList.add("ua");
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiLCJsYXlvdXQvc2lkZWJhci9zaWRlYmFyLmpzIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiYm9keSIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ3aW5kb3ciLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9yRWFjaCIsImVsIiwicmVtb3ZlIiwiYnRuc0xhbmciLCJsZW5ndGgiLCJMYW5ndWFnZSIsIm1haW5Db250YWluZXIiLCJxdWVyeVNlbGVjdG9yIiwicGFnZVNsaWRlciIsIlN3aXBlciIsIndyYXBwZXJDbGFzcyIsInNsaWRlQ2xhc3MiLCJkaXJlY3Rpb24iLCJzbGlkZXNQZXJWaWV3IiwicGFyYWxsYXgiLCJrZXlib2FyZCIsImVuYWJsZSIsIm9ubHlJblZpZXdwb3J0IiwicGFnZVVwRG93biIsIm1vdXNld2hlZWwiLCJzZW5zaXRpdml0eSIsIndhdGNoT3ZlcmZsb3ciLCJzcGVlZCIsIm9ic2VydmVyIiwib2JzZXJ2ZVBhcmVudHMiLCJvYnNlcnZlU2xpZGVDaGlsZHJlbiIsInBhZ2luYXRpb24iLCJ0eXBlIiwiY2xpY2thYmxlIiwiYnVsbGV0Q2xhc3MiLCJzY3JvbGxiYXIiLCJkcmFnQ2xhc3MiLCJkcmFnZ2FibGUiLCJpbml0Iiwib24iLCJzZXRTY3JvbGxUeXBlIiwic2xpZGVDaGFuZ2VUcmFuc2l0aW9uRW5kIiwic2xpZGVDaGFuZ2UiLCJyZXNpemUiLCJjb250YWlucyIsInBhcmFtcyIsImZyZWVNb2RlIiwiaSIsInNsaWRlcyIsIml0ZW1TbGlkZSIsIml0ZW1TbGlkZUNvbnRlbnQiLCJpdGVtU2xpZGVDb250ZW50SGVpZ2h0Iiwib2Zmc2V0SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJidG5TY3JvbGxEb3duIiwic2xpZGVUbyIsImF1dG9wbGF5IiwiZGVsYXkiLCJsb29wIiwibmF2aWdhdGlvbiIsInByZXZFbCIsIm5leHRFbCIsImJ0bnMiLCJfdGhpcyIsIml0ZW0iLCJ0b2dnbGUiLCJwcm90b3R5cGUiLCJl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QUEsQ0FBQUMsU0FBQSxDQUFBTyxNQUFBLENBQUEsSUFBQSxDQUFBLEdBQ0FULFFBQUEsQ0FBQUMsSUFBQSxDQUFBQyxTQUFBLENBQUFDLEdBQUEsQ0FBQSxJQUFBLENBQUE7QUFDQSxDQUFBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJsb2FkaW5nXCIpO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAvKipcclxuICAgKiBSZXNpemUgQnJvd3NlciBXaW5kb3dcclxuICAgKi9cclxuXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsICgpID0+IHtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vcGVuZWQnKVxyXG4gICAgICAuZm9yRWFjaChlbCA9PiB7XHJcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgnb3BlbmVkJylcclxuICAgICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICogTGFuZ3VhZ2VcclxuICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgKGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc3QgYnRuc0xhbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS10b2dnbGUtbGFuZ10nKTtcclxuXHJcbiAgICBpZiAoYnRuc0xhbmcubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgbmV3IExhbmd1YWdlKGJ0bnNMYW5nKTtcclxuICB9KSgpO1xyXG5cclxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuICAqIFBhZ2UgU2xpZGVyXHJcbiAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgXHJcbiAgKGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnN0IG1haW5Db250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBhZ2VfX21haW5cIik7XHJcblxyXG4gICAgY29uc3QgcGFnZVNsaWRlciA9IG5ldyBTd2lwZXIoXCJbZGF0YS1zd2lwZXJdXCIsIHtcclxuICAgICAgLy8g0KHQstC+0Zcg0LrQu9Cw0YHQuFxyXG4gICAgICB3cmFwcGVyQ2xhc3M6IFwic2xpZGVyX193cmFwcGVyXCIsXHJcbiAgICAgIHNsaWRlQ2xhc3M6IFwic2VjdGlvblwiLFxyXG5cclxuICAgICAgLy8g0JLQtdGA0YLQuNC60LDQu9GM0L3QuNC5INGB0LvQsNC50LTQtdGAXHJcbiAgICAgIGRpcmVjdGlvbjogXCJ2ZXJ0aWNhbFwiLFxyXG5cclxuICAgICAgLy8g0JrRltC70YzQutGW0YHRgtGMINGB0LvQsNC50LTRltCyINC00LvRjyDQv9C+0LrQsNC30YNcclxuICAgICAgc2xpZGVzUGVyVmlldzogXCJhdXRvXCIsXHJcblxyXG4gICAgICAvLyDQktC80LjQutCw0ZTQvNC+INC/0LDRgNCw0LvQsNC60YFcclxuICAgICAgcGFyYWxsYXg6IHRydWUsXHJcblxyXG4gICAgICAvLyDQmtC10YDRg9Cy0LDQvdC90Y8g0LrQu9Cw0LLRltCw0YLRg9GA0L7RjlxyXG4gICAgICBrZXlib2FyZDoge1xyXG4gICAgICAgIC8vINCj0LLRltC80LrQvdGD0YLQuC/QktC40LzQutC90YPRgtC4XHJcbiAgICAgICAgZW5hYmxlOiB0cnVlLFxyXG4gICAgICAgIC8vINCj0LLRltC80LrQvdGD0YLQuC/QktC40LzQutC90YPRgtC4XHJcbiAgICAgICAgLy8g0YLRltC70YzQutC4INC60L7Qu9C4INGB0LvQsNC50LTQtdGAXHJcbiAgICAgICAgLy8g0LIg0LzQtdC20LDRhSDQsifRjtC/0L7RgNGC0LBcclxuICAgICAgICBvbmx5SW5WaWV3cG9ydDogdHJ1ZSxcclxuICAgICAgICAvLyDQo9Cy0ZbQvNC60L3Rg9GC0Lgv0JLQuNC80LrQvdGD0YLQuFxyXG4gICAgICAgIC8vINC60LXRgNGD0LLQsNC90L3RjyDQutC70LDQstGW0YjQsNC80LhcclxuICAgICAgICAvLyBwYWdlVXAsIHBhZ2VEb3duXHJcbiAgICAgICAgcGFnZVVwRG93bjogdHJ1ZSxcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8vINCa0LXRgNGD0LLQsNC90L3RjyDQutC+0LvQtdGB0L7QvCDQvNC40YjRllxyXG4gICAgICBtb3VzZXdoZWVsOiB7XHJcbiAgICAgICAgLy8g0KfRg9GC0LvQuNCy0ZbRgdGC0Ywg0LrQvtC70LXRgdCwINC80LjRiNGWXHJcbiAgICAgICAgc2Vuc2l0aXZpdHk6IDEsXHJcbiAgICAgICAgLy8g0JrQu9Cw0YEg0L7QsSfRlNC60YLQsCDQvdCwINGP0LrQvtC80YNcclxuICAgICAgICAvLyDQsdGD0LTQtSDQstGW0LTQv9GA0LDRhtGM0L7QstGD0LLQsNGC0Lgg0L/RgNC+0LrRgNGD0YLQutCwINC80LjRiNC10Y5cclxuICAgICAgICAvLyBldmVudHNUYXJnZXQ6IFwiLmltYWdlLXNsaWRlclwiXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyDQktGW0LTQutC70Y7Rh9C10L3QvdGPINGE0YPQvdC60YbRltC+0L3QsNC70LBcclxuICAgICAgLy8g0Y/QutGJ0L4g0YHQu9Cw0LnQtNGW0LIg0LzQtdC90YzRiCDQvdGW0LYg0L/QvtGC0YDRltCx0L3QvlxyXG4gICAgICB3YXRjaE92ZXJmbG93OiB0cnVlLFxyXG5cclxuICAgICAgLy8g0KjQstC40LTQutGW0YHRgtGMXHJcbiAgICAgIHNwZWVkOiA4MDAsXHJcblxyXG4gICAgICAvLyDQntC90L7QstC40YLRjCDRgdCy0LDQudC/0LXRgFxyXG4gICAgICAvLyDQv9GA0Lgg0LfQvNGW0L3RliDQtdC70LXQvNC10L3RgtGW0LIg0YHQu9Cw0LnQtNC10YDQsFxyXG4gICAgICBvYnNlcnZlcjogdHJ1ZSxcclxuXHJcbiAgICAgIC8vINCe0L3QvtCy0LjRgtGMINGB0LvQsNC50LTQtdGAXHJcbiAgICAgIC8vINC/0YDQuCDQt9C80ZbQvdGWINCx0LDRgtGM0LrRltCy0YHRjNC60LjRhVxyXG4gICAgICAvLyDQtdC70LzQtdC90YLRltCyINGB0LvQsNC50LTQtdGA0LBcclxuICAgICAgb2JzZXJ2ZVBhcmVudHM6IHRydWUsXHJcblxyXG4gICAgICAvLyDQntC90L7QstC40YLRjCDRgdC70LDQudC00LXRgFxyXG4gICAgICAvLyDQv9GA0Lgg0LfQvNGW0L3RliDQtNC+0YfQtdGA0L3RltGFXHJcbiAgICAgIC8vINC10LvQtdC80LXQvdGC0ZbQsiDRgdC70LDQudC00LBcclxuICAgICAgb2JzZXJ2ZVNsaWRlQ2hpbGRyZW46IHRydWUsXHJcblxyXG4gICAgICAvLyDQndCw0LLRltCz0LDRhtGW0Y9cclxuICAgICAgLy8g0JHRg9C70LXRgtC4LCDQv9C+0YLQvtGH0L3QtSDQv9C+0LvQvtC20LXQvdC90Y8sINC/0YDQvtCz0YDQtdGB0LHQsNGAXHJcbiAgICAgIHBhZ2luYXRpb246IHtcclxuICAgICAgICBlbDogXCIuc2xpZGVyX19wYWdpbmF0aW9uXCIsXHJcbiAgICAgICAgdHlwZTogXCJidWxsZXRzXCIsXHJcbiAgICAgICAgY2xpY2thYmxlOiB0cnVlLFxyXG4gICAgICAgIGJ1bGxldENsYXNzOiBcInNsaWRlcl9fYnVsbGV0XCIsXHJcbiAgICAgICAgXCJidWxsZXRBY3RpdmVDbGFzc1wiOiBcInNsaWRlcl9fYnVsbGV0LS1hY3RpdmVcIlxyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8g0KHQutGA0L7Qu1xyXG4gICAgICBzY3JvbGxiYXI6IHtcclxuICAgICAgICBlbDogXCIuc2xpZGVyX19zY3JvbGxcIixcclxuICAgICAgICBkcmFnQ2xhc3M6IFwic2xpZGVyX19kcmFnLXNjcm9sbFwiLFxyXG4gICAgICAgIC8vINCc0L7QttC70LjQstGW0YHRgtGMINC/0LXRgNC10YLRj9Cz0YPQstCw0YLQuCDRgdC60YDQvtC70LtcclxuICAgICAgICBkcmFnZ2FibGU6IHRydWUsXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvLyDQktGW0LTQutC70Y7Rh9C10L3QvdGPINCw0LLRgtC+0ZbQvdGW0YbRltCw0LvRltC30LDRhtGW0ZdcclxuICAgICAgaW5pdDogZmFsc2UsXHJcblxyXG4gICAgICAvLyDQn9C+0LTRltGXXHJcbiAgICAgIG9uOiB7XHJcbiAgICAgICAgLy8g0J/QvtC00ZbRjyDRltC90ZbRhtGW0LDQu9GW0LfQsNGG0ZbRl1xyXG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwibG9hZGluZ1wiKTtcclxuICAgICAgICAgIHNldFNjcm9sbFR5cGUoKTtcclxuICAgICAgICAgIG1haW5Db250YWluZXIuY2xhc3NMaXN0LmFkZChcImxvYWRlZFwiKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBzbGlkZUNoYW5nZVRyYW5zaXRpb25FbmQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwic2Nyb2xsXCIpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8vINCf0L7QtNGW0Y8g0LfQvNGW0L3QuCDRgdC70LDQudC00LBcclxuICAgICAgICBzbGlkZUNoYW5nZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJzY3JvbGxcIik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLy8g0JfQvNGW0L3QsCDRgNC+0LfQvNGW0YDRgyDQstGW0LrQvdCwINCx0YDQsNGD0LfQtdGA0LBcclxuICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2V0U2Nyb2xsVHlwZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldFNjcm9sbFR5cGUoKSB7XHJcbiAgICAgIGlmIChtYWluQ29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucyhcImZyZWVcIikpIHtcclxuICAgICAgICBtYWluQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJmcmVlXCIpO1xyXG4gICAgICAgIHBhZ2VTbGlkZXIucGFyYW1zLmZyZWVNb2RlID0gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZVNsaWRlci5zbGlkZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBpdGVtU2xpZGUgPSBwYWdlU2xpZGVyLnNsaWRlc1tpXTtcclxuICAgICAgICBjb25zdCBpdGVtU2xpZGVDb250ZW50ID0gaXRlbVNsaWRlLnF1ZXJ5U2VsZWN0b3IoXCIuc2VjdGlvbl9fY29udGVudFwiKTtcclxuXHJcbiAgICAgICAgaWYgKGl0ZW1TbGlkZUNvbnRlbnQpIHtcclxuICAgICAgICAgIGNvbnN0IGl0ZW1TbGlkZUNvbnRlbnRIZWlnaHQgPSBpdGVtU2xpZGVDb250ZW50Lm9mZnNldEhlaWdodDtcclxuXHJcbiAgICAgICAgICBpZiAoaXRlbVNsaWRlQ29udGVudEhlaWdodCA+IHdpbmRvdy5pbm5lckhlaWdodCkge1xyXG4gICAgICAgICAgICBtYWluQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJmcmVlXCIpO1xyXG4gICAgICAgICAgICBwYWdlU2xpZGVyLnBhcmFtcy5mcmVlTW9kZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJ0blNjcm9sbERvd24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiW2RhdGEtc2Nyb2xsLWRvd25dXCIpO1xyXG5cclxuICAgIGJ0blNjcm9sbERvd24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgcGFnZVNsaWRlci5zbGlkZVRvKDQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcGFnZVNsaWRlci5pbml0KCk7XHJcbiAgfSkoKTtcclxuXHJcbiAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG4gICogV2VsY29tZSBzbGlkZXJcclxuICAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcbiAgKGZ1bmN0aW9uKCkge1xyXG4gICAgbmV3IFN3aXBlcihcIltkYXRhLXdlbGNvbWUtc3dpcGVyXVwiLCB7XHJcbiAgICAgIC8vINCa0ZbQu9GM0LrRltGB0YLRjCDRgdC70LDQudC00ZbQsiDQtNC70Y8g0L/QvtC60LDQt9GDXHJcbiAgICAgIHNsaWRlc1BlclZpZXc6IDEsXHJcblxyXG4gICAgICBhdXRvcGxheToge1xyXG4gICAgICAgIGRlbGF5OiA1MDAwLFxyXG4gICAgICB9LFxyXG5cclxuICAgICAgLy8g0KjQstC40LTQutGW0YHRgtGMXHJcbiAgICAgIHNwZWVkOiA4MDAsXHJcblxyXG4gICAgICBsb29wOiB0cnVlLFxyXG5cclxuICAgICAgLy8g0J3QsNCy0ZbQs9Cw0YbRltGPXHJcbiAgICAgIC8vINCR0YPQu9C10YLQuCwg0L/QvtGC0L7Rh9C90LUg0L/QvtC70L7QttC10L3QvdGPLCDQv9GA0L7Qs9GA0LXRgdCx0LDRgFxyXG4gICAgICBwYWdpbmF0aW9uOiB7XHJcbiAgICAgICAgZWw6IFwiLnN3aXBlcl9fcGFnaW5hdGlvblwiLFxyXG4gICAgICAgIHR5cGU6IFwiYnVsbGV0c1wiLFxyXG4gICAgICAgIGNsaWNrYWJsZTogdHJ1ZSxcclxuICAgICAgICBidWxsZXRDbGFzczogXCJzd2lwZXJfX2J1bGxldFwiLFxyXG4gICAgICAgIFwiYnVsbGV0QWN0aXZlQ2xhc3NcIjogXCJzd2lwZXJfX2J1bGxldC0tYWN0aXZlXCJcclxuICAgICAgfSxcclxuXHJcbiAgICAgIG5hdmlnYXRpb246IHtcclxuICAgICAgICBwcmV2RWw6ICcuc3dpcGVyX19idXR0b24tcHJldicsXHJcbiAgICAgICAgbmV4dEVsOiAnLnN3aXBlcl9fYnV0dG9uLW5leHQnLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfSkoKTtcclxufSk7IiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbiogTGFuZ3VhZ2VcclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5mdW5jdGlvbiBMYW5ndWFnZShidG5zKSB7XHJcbiAgdGhpcy5idG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLXRvZ2dsZS1sYW5nXVwiKTtcclxuXHJcbiAgdGhpcy5idG5zLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLnRvZ2dsZSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbkxhbmd1YWdlLnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbihlKSB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAodGhpcy5kYXRhc2V0LnRvZ2dsZUxhbmcgPT09IFwiZW5cIilcclxuICAgID8gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwidWFcIilcclxuICAgIDogZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwidWFcIik7XHJcbn07Il19